(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{180:function(t,e,i){"use strict";i.r(e);var s=i(0),_=Object(s.a)({},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("p",[t._v("在团队协作开发时，每个人提交代码时都会写 commit message。")]),t._v(" "),i("p",[t._v("每个人都有自己的书写风格，翻看我们的git log, 可以说是五花八门，十分不利于阅读和维护。")]),t._v(" "),i("p",[t._v("一般来说，大厂都有一套的自己的提交规范，尤其是在一些大型开源项目中，commit message 都是十分一致的。")]),t._v(" "),i("p",[t._v("因此，我们需要制定统一标准，促使团队形成一致的代码提交风格，更好的提高工作效率，成为一名有追求的工程师。")]),t._v(" "),t._m(2),t._v(" "),i("h3",{attrs:{id:"_1-commitizen"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-commitizen"}},[t._v("#")]),t._v(" 1. "),i("a",{attrs:{href:"https://www.npmjs.com/package/commitizen",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitizen"),i("OutboundLink")],1)]),t._v(" "),i("p",[i("a",{attrs:{href:"https://github.com/angular/angular/commits/master",target:"_blank",rel:"noopener noreferrer"}},[t._v("AngularJS"),i("OutboundLink")],1),t._v(" 在 github上 的提交记录被业内许多人认可，逐渐被大家引用。")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),i("p",[t._v("( 1 ) type（必须） : commit 的类别，只允许使用下面几个标识：")]),t._v(" "),t._m(5),t._v(" "),i("p",[t._v("( 2 ) scope（可选） : 用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。")]),t._v(" "),i("p",[t._v("( 3 ) subject（必须） : commit 的简短描述，不超过50个字符。\ncommitizen 是一个撰写合格 Commit message 的工具，\n遵循 Angular 的提交规范。")]),t._v(" "),t._m(6),t._v(" "),i("p",[t._v("全局安装 commitizen")]),t._v(" "),t._m(7),t._v(" "),i("p",[t._v("进入项目文件夹，运行如下命令：")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),i("p",[t._v("（ 1 ）选择 type")]),t._v(" "),t._m(11),t._v(" "),i("p",[t._v("（ 2 ）填写 scope（选填）")]),t._v(" "),t._m(12),t._v(" "),i("p",[t._v("（ 3 ）填写 subject")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),i("p",[t._v("步骤如下：")]),t._v(" "),t._m(21),t._v(" "),i("p",[t._v("在项目中建立 .git_template 文件，内容可以自定义：")]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),i("p",[t._v("运行如下命令：")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),i("p",[t._v("第二章中提到的两种业内普遍使用的规范，都不完全适合我们。")]),t._v(" "),i("p",[t._v("第一种方式适合大型开源项目，我们如果也照搬会比较麻烦，但我们可以借鉴 type(scope): subject 的提交格式，也算是与大厂同步；\n第二种方式虽然自由，但是也不比较麻烦，要配置模板。\n因此，我们只模仿 type(scope): subject 的提交格式，不使用工具 or 模板校验，靠大家自觉遵守即可。")]),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),i("p",[t._v("type 是 commit 的类别，只允许如下几种标识：")]),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),i("p",[t._v("description 是对本次提交的简短描述。")]),t._v(" "),i("p",[t._v("不超过50个字符。")]),t._v(" "),i("p",[t._v("推荐以动词开头，如： 设置、修改、增加、删减、撤销等")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"git-commit-代码提交规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-代码提交规范"}},[this._v("#")]),this._v(" git commit 代码提交规范")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"一、为什么需要制定提交规范？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、为什么需要制定提交规范？"}},[this._v("#")]),this._v(" 一、为什么需要制定提交规范？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"二、业界通用的-git-提交规范有哪些？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、业界通用的-git-提交规范有哪些？"}},[this._v("#")]),this._v(" 二、业界通用的 git 提交规范有哪些？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"格式："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#格式："}},[this._v("#")]),this._v(" 格式：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("type(scope) : subject\n")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("p",[t._v("feat : 新功能")])]),t._v(" "),i("li",[i("p",[t._v("fix : 修复bug")])]),t._v(" "),i("li",[i("p",[t._v("docs : 文档改变")])]),t._v(" "),i("li",[i("p",[t._v("style : 代码格式改变")])]),t._v(" "),i("li",[i("p",[t._v("refactor : 某个已有功能重构")])]),t._v(" "),i("li",[i("p",[t._v("perf : 性能优化")])]),t._v(" "),i("li",[i("p",[t._v("test : 增加测试")])]),t._v(" "),i("li",[i("p",[t._v("build : 改变了build工具 如 grunt换成了 npm")])]),t._v(" "),i("li",[i("p",[t._v("revert : 撤销上一次的 commit")])]),t._v(" "),i("li",[i("p",[t._v("chore : 构建过程或辅助工具的变动")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"安装："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装："}},[this._v("#")]),this._v(" 安装：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("npm install -g commitizen\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("commitizen init cz-conventional-changelog --save --save-exact\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"使用："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用："}},[this._v("#")]),this._v(" 使用：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("用 "),e("code",[this._v("git cz")]),this._v(" 命令取代 "),e("code",[this._v("git commit")]),this._v("（先使用git add），这时会出现如下选项：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/gitcommit.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("? What is the scope of this change (e.g. component or file name)? (press enter to skip)\ncore\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("? Write a short, imperative tense description of the change:\nset a to b\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("完成，运行 "),e("code",[this._v("git log")]),this._v(" 命令，查看我们刚才提交的 commit message，如下：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("fix(core): set a to b\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"优点："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优点："}},[this._v("#")]),this._v(" 优点：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("符合业内标准（许多项目使用 AngularJS 的commit 规范）")]),this._v(" "),e("li",[this._v("提交过程更加规范（使用 commitizen 规范工具，风格统一）")]),this._v(" "),e("li",[this._v("能够生成风格统一的 commit log（type(scope):subject)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"缺点："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缺点："}},[this._v("#")]),this._v(" 缺点：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("需要安装 commitizen 工具包，使项目更大、更重了（适合大型开源项目）")]),this._v(" "),e("li",[this._v("提交过程受约束较大")]),this._v(" "),e("li",[this._v("有一定的学习成本")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_2-设置-git-commit-模板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置-git-commit-模板"}},[this._v("#")]),this._v(" 2. 设置 git commit 模板")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_1-建立模板文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-建立模板文件"}},[this._v("#")]),this._v(" ( 1 ) 建立模板文件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("type:\nscope:\nsubject:\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_2-设置模板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置模板"}},[this._v("#")]),this._v(" ( 2 ) 设置模板")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("git config commit.template .git_template // 当前项目\n\x3c!-- git config commit.template .git_template // 全局设置 --\x3e\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_3-提交代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-提交代码"}},[this._v("#")]),this._v(" ( 3 ) 提交代码")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("先使用 "),e("code",[this._v("git add")]),this._v(" 添加代码\n使用 "),e("code",[this._v("git commit")]),this._v(" 按照模板填写\n最后 "),e("code",[this._v("git push")]),this._v(" 推送到远端")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"优点：-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优点：-2"}},[this._v("#")]),this._v(" 优点：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("规则可配置，更自由")]),this._v(" "),e("li",[this._v("配置方式简洁（只需添加配置文件）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"缺点：-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缺点：-2"}},[this._v("#")]),this._v(" 缺点：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("便利性差，每次都要用 vim 编辑器填写模板")]),this._v(" "),e("li",[this._v("易出错，没有可靠的校验方式")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"三、制定适合我们的-git-commit-提交规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、制定适合我们的-git-commit-提交规范"}},[this._v("#")]),this._v(" 三、制定适合我们的 git commit 提交规范")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_1-格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-格式"}},[this._v("#")]),this._v(" 1. 格式")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("type: description")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_2-type-类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-type-类型"}},[this._v("#")]),this._v(" 2. type 类型")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[t._v("fix: 修复bug")]),t._v(" "),i("li",[t._v("add: 新功能")]),t._v(" "),i("li",[t._v("update: 更新")]),t._v(" "),i("li",[t._v("style : 代码格式改变")]),t._v(" "),i("li",[t._v("test: 增加测试代码")]),t._v(" "),i("li",[t._v("revert: 撤销上一次的commit")]),t._v(" "),i("li",[t._v("build: 构建工具或构建过程等的变动，如：gulp 换成了 webpack，webpack 升级等")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_3-description"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-description"}},[this._v("#")]),this._v(" 3. description")])}],!1,null,null,null);e.default=_.exports}}]);