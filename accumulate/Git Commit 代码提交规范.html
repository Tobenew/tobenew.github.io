<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git Commit 代码提交规范 | 小尹的个人博客</title>
    <meta name="description" content="Personal Website">
    <link rel="icon" href="/images/photo.jpg">
  <link rel="manifest" href="/images/photo.jpg">
  <link rel="apple-touch-icon" href="/images/photo.jpg">
  <meta http-quiv="pragma" cotent="no-cache">
  <meta http-quiv="expires" cotent="0">
  <meta http-quiv="pragma" cotent="no-cache, must-revalidate">
    
    <link rel="preload" href="/assets/css/0.styles.8eb0d87d.css" as="style"><link rel="preload" href="/assets/js/app.f1ff4b24.js" as="script"><link rel="preload" href="/assets/js/15.710b672b.js" as="script"><link rel="prefetch" href="/assets/js/10.c2d37694.js"><link rel="prefetch" href="/assets/js/11.f33dd2fb.js"><link rel="prefetch" href="/assets/js/12.5b5e0a86.js"><link rel="prefetch" href="/assets/js/13.7783dffd.js"><link rel="prefetch" href="/assets/js/14.fdd77f34.js"><link rel="prefetch" href="/assets/js/16.2fd56571.js"><link rel="prefetch" href="/assets/js/17.8a0cb4b6.js"><link rel="prefetch" href="/assets/js/18.3d418b80.js"><link rel="prefetch" href="/assets/js/19.a2f419f4.js"><link rel="prefetch" href="/assets/js/2.bea9e773.js"><link rel="prefetch" href="/assets/js/20.a839f8f6.js"><link rel="prefetch" href="/assets/js/21.0040f499.js"><link rel="prefetch" href="/assets/js/22.1ad40349.js"><link rel="prefetch" href="/assets/js/23.c327eefe.js"><link rel="prefetch" href="/assets/js/24.4fecb747.js"><link rel="prefetch" href="/assets/js/25.05070c64.js"><link rel="prefetch" href="/assets/js/26.7fa47698.js"><link rel="prefetch" href="/assets/js/27.92743890.js"><link rel="prefetch" href="/assets/js/28.0ab6fc8c.js"><link rel="prefetch" href="/assets/js/29.f6e410ef.js"><link rel="prefetch" href="/assets/js/3.3ede1f01.js"><link rel="prefetch" href="/assets/js/30.9c5ba8a6.js"><link rel="prefetch" href="/assets/js/31.98d0db91.js"><link rel="prefetch" href="/assets/js/32.9ebc7105.js"><link rel="prefetch" href="/assets/js/33.4b6d3aa4.js"><link rel="prefetch" href="/assets/js/34.099d14dc.js"><link rel="prefetch" href="/assets/js/35.86e1e61a.js"><link rel="prefetch" href="/assets/js/36.419d6535.js"><link rel="prefetch" href="/assets/js/4.dd1196e1.js"><link rel="prefetch" href="/assets/js/5.c506c4bf.js"><link rel="prefetch" href="/assets/js/6.9763d998.js"><link rel="prefetch" href="/assets/js/7.1961b880.js"><link rel="prefetch" href="/assets/js/8.f8dfdb84.js"><link rel="prefetch" href="/assets/js/9.72acfe56.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8eb0d87d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">小尹的个人博客</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/html/base.html" class="nav-link">HTML</a></div><div class="nav-item"><a href="/css/base.html" class="nav-link">CSS</a></div><div class="nav-item"><a href="/javascript/base.html" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/frame/vue/vue.html" class="nav-link">前端框架</a></div><div class="nav-item"><a href="/accumulate/1.html" class="nav-link">前端基础</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法题库</a></div><div class="nav-item"><a href="/others/1.html" class="nav-link">诗和远方</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/html/base.html" class="nav-link">HTML</a></div><div class="nav-item"><a href="/css/base.html" class="nav-link">CSS</a></div><div class="nav-item"><a href="/javascript/base.html" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/frame/vue/vue.html" class="nav-link">前端框架</a></div><div class="nav-item"><a href="/accumulate/1.html" class="nav-link">前端基础</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法题库</a></div><div class="nav-item"><a href="/others/1.html" class="nav-link">诗和远方</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Git Commit 代码提交规范</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/accumulate/Git%20Commit%20%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html#一、为什么需要制定提交规范？" class="sidebar-link">一、为什么需要制定提交规范？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/accumulate/Git%20Commit%20%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html#二、业界通用的-git-提交规范有哪些？" class="sidebar-link">二、业界通用的 git 提交规范有哪些？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/accumulate/Git%20Commit%20%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html#_1-commitizen" class="sidebar-link">1. commitizen</a></li><li class="sidebar-sub-header"><a href="/accumulate/Git%20Commit%20%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html#_2-设置-git-commit-模板" class="sidebar-link">2. 设置 git commit 模板</a></li></ul></li><li><a href="/accumulate/Git%20Commit%20%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html#三、制定适合我们的-git-commit-提交规范" class="sidebar-link">三、制定适合我们的 git commit 提交规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/accumulate/Git%20Commit%20%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html#_1-格式" class="sidebar-link">1. 格式</a></li><li class="sidebar-sub-header"><a href="/accumulate/Git%20Commit%20%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html#_2-type-类型" class="sidebar-link">2. type 类型</a></li><li class="sidebar-sub-header"><a href="/accumulate/Git%20Commit%20%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html#_3-description" class="sidebar-link">3. description</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="git-commit-代码提交规范"><a href="#git-commit-代码提交规范" class="header-anchor">#</a> git commit 代码提交规范</h1> <h2 id="一、为什么需要制定提交规范？"><a href="#一、为什么需要制定提交规范？" class="header-anchor">#</a> 一、为什么需要制定提交规范？</h2> <p>在团队协作开发时，每个人提交代码时都会写 commit message。</p> <p>每个人都有自己的书写风格，翻看我们的git log, 可以说是五花八门，十分不利于阅读和维护。</p> <p>一般来说，大厂都有一套的自己的提交规范，尤其是在一些大型开源项目中，commit message 都是十分一致的。</p> <p>因此，我们需要制定统一标准，促使团队形成一致的代码提交风格，更好的提高工作效率，成为一名有追求的工程师。</p> <h2 id="二、业界通用的-git-提交规范有哪些？"><a href="#二、业界通用的-git-提交规范有哪些？" class="header-anchor">#</a> 二、业界通用的 git 提交规范有哪些？</h2> <h3 id="_1-commitizen"><a href="#_1-commitizen" class="header-anchor">#</a> 1. <a href="https://www.npmjs.com/package/commitizen" target="_blank" rel="noopener noreferrer">commitizen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p><a href="https://github.com/angular/angular/commits/master" target="_blank" rel="noopener noreferrer">AngularJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 在 github上 的提交记录被业内许多人认可，逐渐被大家引用。</p> <h4 id="格式："><a href="#格式：" class="header-anchor">#</a> 格式：</h4> <pre><code>type(scope) : subject
</code></pre> <p>( 1 ) type（必须） : commit 的类别，只允许使用下面几个标识：</p> <ul><li><p>feat : 新功能</p></li> <li><p>fix : 修复bug</p></li> <li><p>docs : 文档改变</p></li> <li><p>style : 代码格式改变</p></li> <li><p>refactor : 某个已有功能重构</p></li> <li><p>perf : 性能优化</p></li> <li><p>test : 增加测试</p></li> <li><p>build : 改变了build工具 如 grunt换成了 npm</p></li> <li><p>revert : 撤销上一次的 commit</p></li> <li><p>chore : 构建过程或辅助工具的变动</p></li></ul> <p>( 2 ) scope（可选） : 用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p> <p>( 3 ) subject（必须） : commit 的简短描述，不超过50个字符。
commitizen 是一个撰写合格 Commit message 的工具，
遵循 Angular 的提交规范。</p> <h4 id="安装："><a href="#安装：" class="header-anchor">#</a> 安装：</h4> <p>全局安装 commitizen</p> <pre><code>npm install -g commitizen
</code></pre> <p>进入项目文件夹，运行如下命令：</p> <pre><code>commitizen init cz-conventional-changelog --save --save-exact
</code></pre> <h4 id="使用："><a href="#使用：" class="header-anchor">#</a> 使用：</h4> <p>用 <code>git cz</code> 命令取代 <code>git commit</code>（先使用git add），这时会出现如下选项：</p> <p>（ 1 ）选择 type</p> <p><img src="/images/gitcommit.jpg" alt></p> <p>（ 2 ）填写 scope（选填）</p> <pre><code>? What is the scope of this change (e.g. component or file name)? (press enter to skip)
core
</code></pre> <p>（ 3 ）填写 subject</p> <pre><code>? Write a short, imperative tense description of the change:
set a to b
</code></pre> <p>完成，运行 <code>git log</code> 命令，查看我们刚才提交的 commit message，如下：</p> <pre><code>fix(core): set a to b
</code></pre> <h4 id="优点："><a href="#优点：" class="header-anchor">#</a> 优点：</h4> <ul><li>符合业内标准（许多项目使用 AngularJS 的commit 规范）</li> <li>提交过程更加规范（使用 commitizen 规范工具，风格统一）</li> <li>能够生成风格统一的 commit log（type(scope):subject)</li></ul> <h4 id="缺点："><a href="#缺点：" class="header-anchor">#</a> 缺点：</h4> <ul><li>需要安装 commitizen 工具包，使项目更大、更重了（适合大型开源项目）</li> <li>提交过程受约束较大</li> <li>有一定的学习成本</li></ul> <h3 id="_2-设置-git-commit-模板"><a href="#_2-设置-git-commit-模板" class="header-anchor">#</a> 2. 设置 git commit 模板</h3> <p>步骤如下：</p> <h4 id="_1-建立模板文件"><a href="#_1-建立模板文件" class="header-anchor">#</a> ( 1 ) 建立模板文件</h4> <p>在项目中建立 .git_template 文件，内容可以自定义：</p> <pre><code>type:
scope:
subject:
</code></pre> <h4 id="_2-设置模板"><a href="#_2-设置模板" class="header-anchor">#</a> ( 2 ) 设置模板</h4> <p>运行如下命令：</p> <pre><code>git config commit.template .git_template // 当前项目
&lt;!-- git config commit.template .git_template // 全局设置 --&gt;
</code></pre> <h4 id="_3-提交代码"><a href="#_3-提交代码" class="header-anchor">#</a> ( 3 ) 提交代码</h4> <p>先使用 <code>git add</code> 添加代码
使用 <code>git commit</code> 按照模板填写
最后 <code>git push</code> 推送到远端</p> <h4 id="优点：-2"><a href="#优点：-2" class="header-anchor">#</a> 优点：</h4> <ul><li>规则可配置，更自由</li> <li>配置方式简洁（只需添加配置文件）</li></ul> <h4 id="缺点：-2"><a href="#缺点：-2" class="header-anchor">#</a> 缺点：</h4> <ul><li>便利性差，每次都要用 vim 编辑器填写模板</li> <li>易出错，没有可靠的校验方式</li></ul> <h2 id="三、制定适合我们的-git-commit-提交规范"><a href="#三、制定适合我们的-git-commit-提交规范" class="header-anchor">#</a> 三、制定适合我们的 git commit 提交规范</h2> <p>第二章中提到的两种业内普遍使用的规范，都不完全适合我们。</p> <p>第一种方式适合大型开源项目，我们如果也照搬会比较麻烦，但我们可以借鉴 type(scope): subject 的提交格式，也算是与大厂同步；
第二种方式虽然自由，但是也不比较麻烦，要配置模板。
因此，我们只模仿 type(scope): subject 的提交格式，不使用工具 or 模板校验，靠大家自觉遵守即可。</p> <h3 id="_1-格式"><a href="#_1-格式" class="header-anchor">#</a> 1. 格式</h3> <p><code>type: description</code></p> <h3 id="_2-type-类型"><a href="#_2-type-类型" class="header-anchor">#</a> 2. type 类型</h3> <p>type 是 commit 的类别，只允许如下几种标识：</p> <ul><li>fix: 修复bug</li> <li>add: 新功能</li> <li>update: 更新</li> <li>style : 代码格式改变</li> <li>test: 增加测试代码</li> <li>revert: 撤销上一次的commit</li> <li>build: 构建工具或构建过程等的变动，如：gulp 换成了 webpack，webpack 升级等</li></ul> <h3 id="_3-description"><a href="#_3-description" class="header-anchor">#</a> 3. description</h3> <p>description 是对本次提交的简短描述。</p> <p>不超过50个字符。</p> <p>推荐以动词开头，如： 设置、修改、增加、删减、撤销等</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.f1ff4b24.js" defer></script><script src="/assets/js/15.710b672b.js" defer></script>
  </body>
</html>
